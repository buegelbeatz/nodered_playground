


<script type="text/javascript">

  RED.nodes.registerType('imageprocessor', {
    category: 'image-processor',
    color: '#a6bbcf',
    oneditprepare: function() {
      //setupImage(this);
    },
    defaults: {
      name: {
        value: ""
      },
      motionPreview: {
        value: true
      },
      motionPixelTheresold: {
        value: 25
      },
      motionPixelMinRate: {
        value: 0.001
      },
      motionPixelMaxRate: {
        value: 0.25
      },
      motionSegmentTheresold: {
        value: 0.3
      },
      motionSegmentSize: {
        value: 16
      },
      motionSegmentMinRate: {
        value: 0.01
      },
      motionSegmentMaxRate: {
        value: 0.25
      },
      motionClusterMinCount: {
        value: 1
      },
      motionClusterMaxCount: {
        value: 4
      }
    },
    inputs: 1,
    outputs: 3,
    inputLabels: "image buffer jpeg",
    outputLabels: ['failed', 'preview', 'success'],
    icon: "font-awesome/fa-object-ungroup",
    label: function() {
      return this.name || "imageprocessor";
    }
  });
</script>

<script type="text/html" data-template-name="imageprocessor">
  <h3> General </h3>
    <div class="form-row">
        <label for="node-input-motionPreview"><i class="fa fa-tag"></i>Preview</label>
        <input type="checkbox" id="node-input-motionPreview">
    </div>

      <h3> Pixel-Section </h3>
    <div class="form-row">
        <label for="node-input-motionPixelTheresold"><i class="fa fa-tag"></i> Pixel-Theresold</label>
        <input type="text" id="node-input-motionPixelTheresold" placeholder="10-70" value="25">
    </div>
    <div class="form-row">
        <label for="node-input-motionPixelMinRate"><i class="fa fa-tag"></i> Pixel-Min-Rate</label>
        <input type="text" id="node-input-motionPixelMinRate" placeholder="0.0001 - 0.1" value="0.001">
    </div>
    <div class="form-row">
        <label for="node-input-motionPixelMaxRate"><i class="fa fa-tag"></i> Pixel-Max-Rate</label>
        <input type="text" id="node-input-motionPixelMaxRate" placeholder="0.1 - 0.3" value="0.2">
    </div>

    <h3> Segment-Section </h3>

    <div class="form-row">
        <label for="node-input-motionSegmentSize"><i class="fa fa-tag"></i> Segment-Rows/Columns</label>
        <input type="text" id="node-input-motionSegmentSize" placeholder="8-32" value="16">
    </div>
    <div class="form-row">
        <label for="node-input-motionSegmentTheresold"><i class="fa fa-tag"></i> Segment-Theresold</label>
        <input type="text" id="node-input-motionSegmentTheresold" placeholder="0.1 - 0.9" value="0.3">
    </div>
    <div class="form-row">
        <label for="node-input-motionSegmentMinRate"><i class="fa fa-tag"></i> Segment-Min-Rate</label>
        <input type="text" id="node-input-motionSegmentMinRate" placeholder="0.001 - 0.1" value="0.01">
    </div>
    <div class="form-row">
        <label for="node-input-motionSegmentMaxRate"><i class="fa fa-tag"></i> Segment-Max-Rate</label>
        <input type="text" id="node-input-motionSegmentMaxRate" placeholder="0.1 - 0.3" value="0.25">
    </div>

    <h3> Cluster-Section </h3>

    <div class="form-row">
        <label for="node-input-motionClusterMinCount"><i class="fa fa-tag"></i> Cluster-Min-Count</label>
        <input type="text" id="node-input-motionClusterMinCount" placeholder="1-4" value="1">
    </div>
    <div class="form-row">
        <label for="node-input-motionClusterMaxCount"><i class="fa fa-tag"></i> Cluster-Max-Count</label>
        <input type="text" id="node-input-motionClusterMaxCount" placeholder="1-5" value="4">
    </div>
</script>

<script type="text/html" data-help-name="imageprocessor">
  <p>helper</p>
</script>
